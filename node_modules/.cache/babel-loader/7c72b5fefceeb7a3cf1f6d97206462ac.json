{"ast":null,"code":"import _classCallCheck from \"/Users/hamadalshehri/code/wdi/all-projects/parking-system/parking-system-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/hamadalshehri/code/wdi/all-projects/parking-system/parking-system-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/hamadalshehri/code/wdi/all-projects/parking-system/parking-system-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/hamadalshehri/code/wdi/all-projects/parking-system/parking-system-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/hamadalshehri/code/wdi/all-projects/parking-system/parking-system-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/hamadalshehri/code/wdi/all-projects/parking-system/parking-system-frontend/src/components/Show.jsx\";\nimport React, { Component } from 'react';\nimport ParkingData from './ParkingData';\nimport EditForm from './EditForm';\n\nvar Show =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Show, _Component);\n\n  function Show() {\n    var _this;\n\n    _classCallCheck(this, Show);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Show).call(this));\n    _this.state = {\n      editForm: null,\n      activeShow: 'Show'\n    };\n    return _this;\n  }\n\n  _createClass(Show, [{\n    key: \"parkingShow\",\n    value: function parkingShow() {\n      var _this2 = this;\n\n      var parking = this.props.employee.map(function (el) {\n        return React.createElement(ParkingData, {\n          parkingData: el,\n          key: el.id,\n          handelEdit: _this2.handelEdit.bind(_this2),\n          deleteShow: _this2.deleteShow.bind(_this2),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 15\n          },\n          __self: this\n        });\n      });\n      return parking;\n    }\n  }, {\n    key: \"updateData\",\n    value: function updateData(data) {\n      var _this3 = this;\n\n      console.log(data, 'edit');\n      var url = \"http://localhost:3000/parking/\".concat(data.employee_id);\n      fetch(url, {\n        method: 'PUT',\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        var parkingData = _this3.state.parkingData.map(function (el) {\n          return el.id === data.id ? data : el;\n        });\n\n        _this3.setState({\n          parkingData: parkingData\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"deleteShow\",\n    value: function deleteShow(id) {\n      var _this4 = this;\n\n      console.log(id, 'delete');\n      var url = \"http://localhost:3000/parking/\".concat(id);\n      fetch(url, {\n        method: 'DELETE'\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        var parkingData = _this4.state.parkingData.filter(function (el) {\n          return el.id !== id;\n        });\n\n        _this4.setState({\n          parkingData: parkingData\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"createParking\",\n    value: function createParking(data) {\n      var url = 'http://localhost:3000/parking/';\n      fetch(url, {\n        method: 'POST',\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        console.log(data);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"handelEdit\",\n    value: function handelEdit(editForm) {\n      this.setState({\n        editForm: editForm,\n        activeShow: 'Edit'\n      });\n    }\n  }, {\n    key: \"handelCreate\",\n    value: function handelCreate(event) {\n      event.preventDefault();\n      this.setState({\n        activeShow: 'Create'\n      });\n    }\n  }, {\n    key: \"ShowCreate\",\n    value: function ShowCreate() {\n      var employee_id = {\n        employee_id: this.props.employee[0].employee_id\n      };\n      console.log(employee_id);\n      return React.createElement(EditForm, {\n        data: employee_id,\n        createParking: this.createParking.bind(this),\n        active: 'Create',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(this.props);\n      return React.createElement(\"div\", {\n        className: \"info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"column left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        alt: \"\",\n        className: \"proimg\",\n        src: \"https://www.cobdoglaps.sa.edu.au/wp-content/uploads/2017/11/placeholder-profile-sq.jpg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"Employee Name: \", this.props.employee[0].name), React.createElement(\"button\", {\n        onClick: this.handelCreate.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, \"Create Parking\")), React.createElement(\"div\", {\n        className: \"column right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"shows\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, this.state.activeShow === 'Show' ? this.parkingShow() : ''), this.state.activeShow === \"Edit\" && this.state.editForm ? React.createElement(EditForm, {\n        data: this.state.editForm,\n        updateData: this.updateData.bind(this),\n        active: 'Update',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }) : '', this.state.activeShow === 'Create' ? this.ShowCreate() : null)));\n    }\n  }]);\n\n  return Show;\n}(Component);\n\nexport default Show;","map":{"version":3,"sources":["/Users/hamadalshehri/code/wdi/all-projects/parking-system/parking-system-frontend/src/components/Show.jsx"],"names":["React","Component","ParkingData","EditForm","Show","state","editForm","activeShow","parking","props","employee","map","el","id","handelEdit","bind","deleteShow","data","console","log","url","employee_id","fetch","method","headers","body","JSON","stringify","then","response","json","parkingData","setState","catch","error","filter","event","preventDefault","createParking","name","handelCreate","parkingShow","updateData","ShowCreate"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport ParkingData from './ParkingData';\nimport EditForm from './EditForm';\nclass Show extends Component {\n    constructor() {\n        super();\n        this.state = {\n            editForm: null,\n            activeShow: 'Show'\n        }\n    };\n\n    parkingShow() {\n        const parking = this.props.employee.map(el => {\n            return <ParkingData parkingData={el} key={el.id} handelEdit={this.handelEdit.bind(this)} deleteShow={this.deleteShow.bind(this)} />\n        })\n        return parking;\n    }\n\n\n    updateData(data) {\n        console.log(data, 'edit')\n        const url = `http://localhost:3000/parking/${data.employee_id}`\n        fetch(url, {\n            method: 'PUT',\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(data)\n        })\n            .then(response => response.json())\n            .then(data => {\n                const parkingData = this.state.parkingData.map(el => {\n                    return el.id === data.id ? data : el\n                })\n\n                this.setState({ parkingData })\n            })\n            .catch(error => {\n                console.log(error);\n            })\n    };\n\n    deleteShow(id) {\n        console.log(id, 'delete')\n        const url = `http://localhost:3000/parking/${id}`;\n        fetch(url, {\n            method: 'DELETE'\n        })\n            .then(response => response.json())\n            .then(data => {\n                const parkingData = this.state.parkingData.filter(el => el.id !== id)\n                this.setState({ parkingData })\n            })\n            .catch(error => {\n                console.log(error);\n            })\n    };\n\n    createParking(data) {\n        const url = 'http://localhost:3000/parking/'\n        fetch(url, {\n            method: 'POST',\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(data)\n        })\n            .then(response => response.json())\n            .then(data => {\n                console.log(data);\n\n            })\n            .catch(error => {\n                console.log(error);\n            })\n    };\n\n    handelEdit(editForm) {\n        this.setState({ editForm, activeShow: 'Edit' })\n    }\n\n    handelCreate(event) {\n        event.preventDefault();\n        this.setState({ activeShow: 'Create' })\n    }\n\n    ShowCreate() {\n        const employee_id = { employee_id: this.props.employee[0].employee_id };\n        console.log(employee_id)\n        return <EditForm data={employee_id} createParking={this.createParking.bind(this)} active={'Create'} />\n    }\n    render() {\n        console.log(this.props)\n        return (\n            <div className=\"info\">\n                <div className=\"row\">\n                    <div className=\"column left\">\n                        <img alt=\"\" className=\"proimg\" src=\"https://www.cobdoglaps.sa.edu.au/wp-content/uploads/2017/11/placeholder-profile-sq.jpg\" />\n                        <h2>Employee Name: {this.props.employee[0].name}</h2>\n                        <button onClick={this.handelCreate.bind(this)}>Create Parking</button>\n                    </div>\n                    <div className=\"column right\">\n                        <div className=\"shows\">\n\n                                {this.state.activeShow === 'Show' ? this.parkingShow() : ''}\n                        </div>\n                        {this.state.activeShow === \"Edit\" && this.state.editForm ? <EditForm data={this.state.editForm} updateData={this.updateData.bind(this)} active={'Update'} /> : ''}\n\n                        {this.state.activeShow === 'Create' ? this.ShowCreate() : null}\n\n                    </div>\n                </div>\n\n            </div>\n        );\n    }\n}\n\nexport default Show;"]},"metadata":{},"sourceType":"module"}